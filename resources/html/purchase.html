<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

  <!-- Import -->
  <link rel="stylesheet2" type="text/css" href="https://www.neonitedev.live/css/custom.css">
  <link rel="stylesheet" type="text/css" href="https://www.neonitedev.live/css/style.css">
  <link rel="stylesheet" href="https://www.neonitedev.live/css/animate.css">
  <script src="https://kit.fontawesome.com/d32350101e.js" crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
  <meta property="og:title" content="Neonite" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="index.html" />
  <meta property="og:image" content="https://preview.daneric.dev/neonite/images/LogoTransparent.png" />
  <meta property="og:description" content="Made by kemo (@xkem0x on twitter)" />
  <meta name="theme-color" content="#a74fff">
  <link rel="shortcut icon" href="https://www.neonitedev.live/images/Neonite2.png" />
  <meta charset="utf-8">
  <title>Home - Neonite</title>
</head>

<body onload="typeWriter()">
  <div class="container">
    <div class="tommy">
      <main>
        <div class="intro">
          <h1 class="intro-header"><img class="neonite-header" src="https://www.neonitedev.live/images/neonite.png" />
          </h1>
          <h2>
            <a id='title' class="intro-description">Thanks for using neonite!</a>
            <br><br><br>

            <h1 id='message'>Item(s) acquired</h1>
          </h2>
        </div>
    </div>
    </br>
    </br>
    <div class="text-center">
    </div>
    </br>
    </br>
    </br>
    </br>
    </br>
    </br>
    </br>

    <div class="container second-main">
      <main>
        <h1copy class="copyright-text cuba" style="text-align: center;">This project is not Affiliated, Associated,
          Authorized, Endorsed by, or in
          any way officially connected with EpicGames </a> <br><br> Made with ❤️ by <a class="credits"
            href="https://twitter.com/TheBeatYT_evil">Beat YT</a> | Website made by <a class="credits"
            href="https://daneric.dev/">Daneric</a> and modified by Beat YT</h1copy>
      </main>
    </div>
</body>

<script>
  const discordMessage = `\nPlease report this in <a href="https://dsc.gg/neonite">our discord</a>`
  // Hey, its not easy to write JS in an HTML tag. can't even use return.
  if (!self.ue) {
    document.getElementById("title").innerText = `Whoops`;
    document.getElementById("message").innerHTML = 'Missing self.ue' + discordMessage;
  } else if (!self.ue.purchaseflow) {
    document.getElementById("title").innerText = `Whoops`;
    document.getElementById("message").innerHTML = 'Missing self.ue.purchaseflow' + discordMessage;
  }
  else if (!self.ue.purchaseflow.receipt) {
    document.getElementById("title").innerText = `Whoops`;
    document.getElementById("message").innerHTML = 'Missing self.ue.purchaseflow.receipt' + discordMessage;
  } else if (!self.ue.purchaseflow.requestclose) {
    document.getElementById("title").innerText = `Whoops`;
    document.getElementById("message").innerHTML = 'Missing self.ue.purchaseflow.requestclose' + discordMessage;
  }
  else {
    try {
      function getCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == ' ') c = c.substring(1, c.length);
          if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
      }


      const accountId = getCookie('x-neonite-accountId');
      const s_encoded_offers = getCookie('x-neonite-offers');
      const offers = s_encoded_offers ? JSON.parse(decodeURIComponent(s_encoded_offers)) : undefined
      const purchaseToken = getCookie('x-neonite-purchaseToken');

      if (!offers) {
        document.getElementById("title").innerText = `Whoops`;
        document.getElementById("message").innerHTML = 'Missing x-neonite-offers' + discordMessage;
      } else if (!accountId) {
        document.getElementById("title").innerText = `Whoops`;
        document.getElementById("message").innerHTML = 'Missing x-neonite-accountId' + discordMessage;
      } else if (!purchaseToken) {
        document.getElementById("title").innerText = `Whoops`;
        document.getElementById("message").innerHTML = 'Missing x-neonite-purchaseToken' + discordMessage;
      }
      else {

        setTimeout(() => {
          var recipt = {
            "TransactionId": "TransactionId",
            "TransactionState": "Purchased",
            "Offers": offers.map(x => {
              return {
                "OfferNamespace": "fortnite",
                "OfferId": x,
                "Items": [
                  {
                    "ItemId":  x,
                    "ItemNamespace": "ItemNamespace",
                    "EntitlementId": "EntitlementId",
                    "EntitlementName": "EntitlementName"
                  }
                ]
              }
            }),
            "grantedVoucher": {}
          };

          self.ue.purchaseflow.receipt(recipt);
          self.ue.purchaseflow.requestclose();
        }, 2500)
      }
    } catch (e) {
      document.getElementById("title").innerText = `Whoops`;
      document.getElementById("message").innerText = e;
    }
  }
</script>

</html>